var app=function(){"use strict";function noop(){}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function is_empty(e){return 0===Object.keys(e).length}function subscribe(e,...t){if(null==e)return noop;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function component_subscribe(e,t,n){e.$$.on_destroy.push(subscribe(t,n))}function null_to_empty(e){return null==e?"":e}function action_destroyer(e){return e&&is_function(e.destroy)?e.destroy:noop}function append(e,t){e.appendChild(t)}function insert(e,t,n){e.insertBefore(t,n||null)}function detach(e){e.parentNode.removeChild(e)}function destroy_each(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,t,n,a){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)}function self$1(e){return function(t){t.target===this&&e.call(this,t)}}function attr(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function children(e){return Array.from(e.childNodes)}function claim_element(e,t,n,a){for(let a=0;a<e.length;a+=1){const r=e[a];if(r.nodeName===t){let t=0;const o=[];for(;t<r.attributes.length;){const e=r.attributes[t++];n[e.name]||o.push(e.name)}for(let e=0;e<o.length;e++)r.removeAttribute(o[e]);return e.splice(a,1)[0]}}return a?svg_element(t):element(t)}function claim_text(e,t){for(let n=0;n<e.length;n+=1){const a=e[n];if(3===a.nodeType)return a.data=""+t,e.splice(n,1)[0]}return text(t)}function claim_space(e){return claim_text(e," ")}function set_data(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function set_style(e,t,n,a){e.style.setProperty(t,n,a?"important":"")}function toggle_class(e,t,n){e.classList[n?"add":"remove"](t)}function custom_event(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}function query_selector_all(e,t=document.body){return Array.from(t.querySelectorAll(e))}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function createEventDispatcher(){const e=get_current_component();return(t,n)=>{const a=e.$$.callbacks[t];if(a){const r=custom_event(t,n);a.slice().forEach(t=>{t.call(e,r)})}}}function bubble(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(e){render_callbacks.push(e)}function add_flush_callback(e){flush_callbacks.push(e)}let flushing=!1;const seen_callbacks=new Set;function flush(){if(!flushing){flushing=!0;do{for(let e=0;e<dirty_components.length;e+=1){const t=dirty_components[e];set_current_component(t),update(t.$$)}for(set_current_component(null),dirty_components.length=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,flushing=!1,seen_callbacks.clear()}}function update(e){if(null!==e.fragment){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,n,a){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),a&&(n&&e.d(1),a())}),e.o(t)}}function bind(e,t,n){const a=e.$$.props[t];void 0!==a&&(e.$$.bound[a]=n,n(e.$$.ctx[a]))}function create_component(e){e&&e.c()}function claim_component(e,t){e&&e.l(t)}function mount_component(e,t,n){const{fragment:a,on_mount:r,on_destroy:o,after_update:i}=e.$$;a&&a.m(t,n),add_render_callback(()=>{const t=r.map(run).filter(is_function);o?o.push(...t):run_all(t),e.$$.on_mount=[]}),i.forEach(add_render_callback)}function destroy_component(e,t){const n=e.$$;null!==n.fragment&&(run_all(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(e,t){-1===e.$$.dirty[0]&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,n,a,r,o,i=[-1]){const s=current_component;set_current_component(e);const l=t.props||{},c=e.$$={fragment:null,ctx:null,props:o,update:noop,not_equal:r,bound:blank_object(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:blank_object(),dirty:i,skip_bound:!1};let d=!1;if(c.ctx=n?n(e,l,(t,n,...a)=>{const o=a.length?a[0]:n;return c.ctx&&r(c.ctx[t],c.ctx[t]=o)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](o),d&&make_dirty(e,t)),n}):[],c.update(),d=!0,run_all(c.before_update),c.fragment=!!a&&a(c.ctx),t.target){if(t.hydrate){const e=children(t.target);c.fragment&&c.fragment.l(e),e.forEach(detach)}else c.fragment&&c.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor),flush()}set_current_component(s)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function create_fragment(e){let t,n,a,r,o,i,s,l,c,d,u,p,h,m,f,g,v,_,b,y,$,w,x,k,M,E,I,S,P,H;return document.title=t=e[0].title,{c(){n=element("meta"),a=element("meta"),r=element("meta"),o=element("meta"),s=element("meta"),l=element("meta"),c=element("meta"),u=element("meta"),p=element("meta"),h=element("meta"),f=element("meta"),g=element("meta"),v=element("meta"),_=element("meta"),b=element("meta"),y=element("meta"),$=element("meta"),w=element("meta"),x=element("meta"),k=element("meta"),E=element("meta"),S=element("meta"),P=element("meta"),H=element("link"),this.h()},l(e){const t=query_selector_all('[data-svelte="svelte-1b8pzlw"]',document.head);n=claim_element(t,"META",{charset:!0}),a=claim_element(t,"META",{name:!0,content:!0}),r=claim_element(t,"META",{"http-equiv":!0,content:!0}),o=claim_element(t,"META",{name:!0,content:!0}),s=claim_element(t,"META",{name:!0,content:!0}),l=claim_element(t,"META",{name:!0,content:!0}),c=claim_element(t,"META",{property:!0,content:!0}),u=claim_element(t,"META",{property:!0,content:!0}),p=claim_element(t,"META",{property:!0,content:!0}),h=claim_element(t,"META",{property:!0,content:!0}),f=claim_element(t,"META",{property:!0,content:!0}),g=claim_element(t,"META",{property:!0,content:!0}),v=claim_element(t,"META",{property:!0,content:!0}),_=claim_element(t,"META",{property:!0,content:!0}),b=claim_element(t,"META",{property:!0,content:!0}),y=claim_element(t,"META",{property:!0,content:!0}),$=claim_element(t,"META",{name:!0,content:!0}),w=claim_element(t,"META",{name:!0,content:!0}),x=claim_element(t,"META",{name:!0,content:!0}),k=claim_element(t,"META",{name:!0,content:!0}),E=claim_element(t,"META",{name:!0,content:!0}),S=claim_element(t,"META",{name:!0,content:!0}),P=claim_element(t,"META",{name:!0,content:!0}),H=claim_element(t,"LINK",{rel:!0,href:!0}),t.forEach(detach),this.h()},h(){attr(n,"charset","utf-8"),attr(a,"name","viewport"),attr(a,"content","width=device-width, initial-scale=1.0"),attr(r,"http-equiv","Content-Type"),attr(r,"content","text/html; charset=utf-8"),attr(o,"name","description"),attr(o,"content",i=e[0].description),attr(s,"name","author"),attr(s,"content","The Pudding"),attr(l,"name","news_keywords"),attr(l,"content",""),attr(c,"property","og:title"),attr(c,"content",d=e[0].title),attr(u,"property","og:site_name"),attr(u,"content",""),attr(p,"property","og:url"),attr(p,"content",""),attr(h,"property","og:description"),attr(h,"content",m=e[0].description),attr(f,"property","og:type"),attr(f,"content","article"),attr(g,"property","og:locale"),attr(g,"content","en_US"),attr(v,"property","og:image"),attr(v,"content",""),attr(_,"property","og:image:type"),attr(_,"content","image/jpeg"),attr(b,"property","og:image:width"),attr(b,"content","1200"),attr(y,"property","og:image:height"),attr(y,"content","600"),attr($,"name","twitter:card"),attr($,"content","summary_large_image"),attr(w,"name","twitter:site"),attr(w,"content","https://pudding.cool"),attr(x,"name","twitter:creator"),attr(x,"content","@puddingviz"),attr(k,"name","twitter:title"),attr(k,"content",M=e[0].title),attr(E,"name","twitter:description"),attr(E,"content",I=e[0].description),attr(S,"name","twitter:image:src"),attr(S,"content",""),attr(P,"name","robots"),attr(P,"content","max-image-preview:large"),attr(H,"rel","canonical"),attr(H,"href","")},m(e,t){append(document.head,n),append(document.head,a),append(document.head,r),append(document.head,o),append(document.head,s),append(document.head,l),append(document.head,c),append(document.head,u),append(document.head,p),append(document.head,h),append(document.head,f),append(document.head,g),append(document.head,v),append(document.head,_),append(document.head,b),append(document.head,y),append(document.head,$),append(document.head,w),append(document.head,x),append(document.head,k),append(document.head,E),append(document.head,S),append(document.head,P),append(document.head,H)},p(e,[n]){1&n&&t!==(t=e[0].title)&&(document.title=t),1&n&&i!==(i=e[0].description)&&attr(o,"content",i),1&n&&d!==(d=e[0].title)&&attr(c,"content",d),1&n&&m!==(m=e[0].description)&&attr(h,"content",m),1&n&&M!==(M=e[0].title)&&attr(k,"content",M),1&n&&I!==(I=e[0].description)&&attr(E,"content",I)},i:noop,o:noop,d(e){detach(n),detach(a),detach(r),detach(o),detach(s),detach(l),detach(c),detach(u),detach(p),detach(h),detach(f),detach(g),detach(v),detach(_),detach(b),detach(y),detach($),detach(w),detach(x),detach(k),detach(E),detach(S),detach(P),detach(H)}}}function instance(e,t,n){let{copy:a}=t;var r="undefined"!=typeof window?window:global;return r.rpDsp=r.rpDsp||function(){},rpDsp("SvelteReactiveEnable",{version:"0.6.1"}),e.$$set=e=>{"copy"in e&&n(0,a=e.copy)},[a]}class Meta extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{copy:0})}}var wordmark='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 22.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.1" id="wordmark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 192.6 50" style="enable-background:new 0 0 192.6 50;" xml:space="preserve">\n<g>\n\t<path class="st0" d="M150.1,9.5c1.5,0,2.8,1.3,2.8,2.8s-1.3,2.8-2.8,2.8s-2.8-1.3-2.8-2.8S148.6,9.5,150.1,9.5z"/>\n\t<path class="st0" d="M147.2,17.3h5.6v18.2h-5.6V17.3z"/>\n\t<path class="st0" d="M77.1,9.5h-1.9h-7v19.3v6.7h5.6v-6.7v-1.4h1.4h1.9c4.9,0,8.9-4,8.9-8.9S82.1,9.5,77.1,9.5z M77.1,21.8h-1.9\n\t\th-1.4v-1.4v-3.8v-1.4h1.4h1.9c1.8,0,3.3,1.5,3.3,3.3S79,21.8,77.1,21.8z"/>\n\t<path class="st0" d="M105.7,17.6h-5.6v8.9c0,1.8-1.5,3.3-3.3,3.3s-3.3-1.5-3.3-3.3v-8.9h-5.6v8.9c0,4.9,4,8.9,8.9,8.9\n\t\ts8.9-4,8.9-8.9V17.6z"/>\n\t<path class="st0" d="M164.1,17.6c-4.9,0-8.9,4-8.9,8.9v8.9h5.6v-8.9c0-1.8,1.5-3.3,3.3-3.3s3.3,1.5,3.3,3.3v8.9h5.6v-8.9\n\t\tC173,21.6,169,17.6,164.1,17.6z"/>\n\t<path class="st0" d="M119.7,16.2v1.4h-1.4h-1.9c-4.9,0-8.9,4-8.9,8.9s4,8.9,8.9,8.9h1.9h7V16.2V9.5l-5.6,3.3\n\t\tC119.7,12.8,119.7,16.2,119.7,16.2z M119.8,24.6v3.8v1.4h-1.4h-1.9c-1.8,0-3.3-1.5-3.3-3.3s1.5-3.3,3.3-3.3h1.9h1.4V24.6z"/>\n\t<path class="st0" d="M139.3,16.2v1.4h-1.4H136c-4.9,0-8.9,4-8.9,8.9s4,8.9,8.9,8.9h1.9h7V16.2V9.5l-5.6,3.3V16.2z M139.4,24.6v3.8\n\t\tv1.4h-1.5H136c-1.8,0-3.3-1.5-3.3-3.3s1.5-3.3,3.3-3.3h1.9h1.4v1.4H139.4z"/>\n\t<path class="st0" d="M183.7,17.6c-4.9,0-8.9,4-8.9,8.9s4,8.9,8.9,8.9h1.9h1.4v1.4v0.9v1.4v1.4c0,1.8-1.5,3.3-3.3,3.3\n\t\ts-3.3-1.5-3.3-3.3V38l-5.6,3.3c0.4,4.5,4.2,8.1,8.9,8.1c4.9,0,8.9-4,8.9-8.9v-1.4v-2.3V17.6h-7H183.7z M187,23.4v1.4v3.8V30h-1.4\n\t\th-1.9c-1.8,0-3.3-1.5-3.3-3.3s1.5-3.3,3.3-3.3h1.9C185.6,23.4,187,23.4,187,23.4z"/>\n\t<path class="st0" d="M28.6,17.6c-1.2,0-2.3,0.2-3.3,0.6V9.5l-5.6,3.3v13.7v2v6.9h5.6v-6.9l0,0v-2c0-1.8,1.5-3.3,3.3-3.3\n\t\ts3.3,1.5,3.3,3.3v8.9h5.6v-8.9C37.5,21.6,33.5,17.6,28.6,17.6z"/>\n\t<path class="st0" d="M17.8,9.5H0v5.6h6.1v20.3h5.6V15.1h6.1V9.5z"/>\n\t<path class="st0" d="M48.3,30.2c-0.4,0-1.2-0.1-1.8-0.4l5.2-2.1l5.6-2.3l-1-2.3l-0.1-0.2c-0.1-0.3-0.3-0.6-0.5-1\n\t\tc-0.1-0.1-0.1-0.2-0.2-0.3c0,0,0-0.1-0.1-0.1l-0.1-0.1l-0.1-0.1c-1.6-2.2-4-3.5-6.7-3.7l0,0h-0.6c-4.9,0-8.9,4-8.9,8.9\n\t\tc0,0.4,0,0.9,0.1,1.4l0,0V28c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0.3,0.1,0.5,0.2,0.8v0.1v0.1c0.1,0.3,0.2,0.7,0.4,1v0.1v0.1\n\t\tc0.1,0.3,0.3,0.5,0.4,0.8c0,0.1,0.1,0.1,0.1,0.2l0,0c0.1,0.2,0.3,0.4,0.4,0.6c0,0,0,0,0,0.1c0,0,0,0.1,0.1,0.1l0.1,0.1\n\t\tc1.7,2.1,4.4,3.4,7.2,3.4h6.1v-5.2C54.5,30.2,50.6,30.2,48.3,30.2L48.3,30.2z M56.2,22.9L56.2,22.9L56.2,22.9z M44.6,25.7\n\t\tL44.6,25.7l-0.2,0.1c0.2-1.9,1.8-3.5,3.7-3.5c0.9,0,1.8,0.4,2.4,0.9L46.2,25L44.6,25.7L44.6,25.7z"/>\n</g>\n</svg>';function create_fragment$1(e){let t,n,a;return{c(){t=element("header"),n=element("div"),a=element("a"),this.h()},l(e){t=claim_element(e,"HEADER",{});var r=children(t);n=claim_element(r,"DIV",{class:!0});var o=children(n);a=claim_element(o,"A",{href:!0,class:!0}),children(a).forEach(detach),o.forEach(detach),r.forEach(detach),this.h()},h(){attr(a,"href","https://pudding.cool"),attr(a,"class","svelte-c6yjz3"),attr(n,"class","wordmark svelte-c6yjz3")},m(e,r){insert(e,t,r),append(t,n),append(n,a),a.innerHTML=wordmark},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}function instance$1(e){var t="undefined"!=typeof window?window:global;return t.rpDsp=t.rpDsp||function(){},rpDsp("SvelteReactiveEnable",{version:"0.6.1"}),[]}class Header extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{})}}function makeLine(e){return e.reduce((t,{x:n,y:a,index:r},o)=>{const i=o<e.length-1?e[o+1]:null,s=0===o?`M${n} ${a}`:"";let l="";if(i&&i.x!==n){l=`L${n} ${a}L${0===i.index?n:i.x} ${0===i.index?i.y:a}`}else l=`L${n} ${a}`;return`${t}${s}${l}`},"")}const subscriber_queue=[];function readable(e,t){return{subscribe:writable(e,t).subscribe}}function writable(e,t=noop){let n;const a=[];function r(t){if(safe_not_equal(e,t)&&(e=t,n)){const t=!subscriber_queue.length;for(let t=0;t<a.length;t+=1){const n=a[t];n[1](),subscriber_queue.push(n,e)}if(t){for(let e=0;e<subscriber_queue.length;e+=2)subscriber_queue[e][0](subscriber_queue[e+1]);subscriber_queue.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(o,i=noop){const s=[o,i];return a.push(s),1===a.length&&(n=t(r)||noop),o(e),()=>{const e=a.indexOf(s);-1!==e&&a.splice(e,1),0===a.length&&(n(),n=null)}}}}function derived(e,t,n){const a=!Array.isArray(e),r=a?[e]:e,o=t.length<2;return readable(n,e=>{let n=!1;const i=[];let s=0,l=noop;const c=()=>{if(s)return;l();const n=t(a?i[0]:i,e);o?e(n):l=is_function(n)?n:noop},d=r.map((e,t)=>subscribe(e,e=>{i[t]=e,s&=~(1<<t),n&&c()},()=>{s|=1<<t}));return n=!0,c(),function(){run_all(d),l()}})}var scrollY=readable(0,e=>{let t=!1,n=0;const a=()=>{e(n),t=!1},r=()=>{n=window.scrollY,t||(requestAnimationFrame(a),t=!0)};return"undefined"!=typeof document&&document.addEventListener("scroll",r),()=>{"undefined"!=typeof document&&document.removeEventListener("scroll",r)}}),commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(e,t,n){var a,r,o,i,s,l,c=0,d=!1,u=!1,p=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);function h(t){var n=a,o=r;return a=r=void 0,c=t,i=e.apply(o,n)}function m(e){return c=e,s=setTimeout(g,t),d?h(e):i}function f(e){var n=e-l;return void 0===l||n>=t||n<0||u&&e-c>=o}function g(){var e=now();if(f(e))return v(e);s=setTimeout(g,function(e){var n=t-(e-l);return u?nativeMin(n,o-(e-c)):n}(e))}function v(e){return s=void 0,p&&a?h(e):(a=r=void 0,i)}function _(){var e=now(),n=f(e);if(a=arguments,r=this,l=e,n){if(void 0===s)return m(l);if(u)return s=setTimeout(g,t),h(l)}return void 0===s&&(s=setTimeout(g,t)),i}return t=toNumber(t)||0,isObject(n)&&(d=!!n.leading,o=(u="maxWait"in n)?nativeMax(toNumber(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),_.cancel=function(){void 0!==s&&clearTimeout(s),c=0,a=l=r=s=void 0},_.flush=function(){return void 0===s?i:v(now())},_}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,"");var n=reIsBinary.test(e);return n||reIsOctal.test(e)?freeParseInt(e.slice(2),n?2:8):reIsBadHex.test(e)?NAN:+e}var lodash_debounce=debounce,viewport=readable({width:0,height:0},e=>{const t=()=>e({width:window.innerWidth,height:window.innerHeight});return"undefined"!=typeof window&&(t(),window.addEventListener("resize",lodash_debounce(t,250))),()=>{"undefined"!=typeof window&&window.removeEventListener("resize",t)}});function get_each_context(e,t,n){const a=e.slice();return a[25]=t[n].x,a[26]=t[n].y,a}function create_each_block(e){let t,n,a;return{c(){t=svg_element("circle"),this.h()},l(e){t=claim_element(e,"circle",{cx:!0,cy:!0,r:!0,class:!0},1),children(t).forEach(detach),this.h()},h(){attr(t,"cx",n=e[25]),attr(t,"cy",a=e[26]),attr(t,"r","5"),attr(t,"class","svelte-6n8uqp")},m(e,n){insert(e,t,n)},p(e,r){8&r&&n!==(n=e[25])&&attr(t,"cx",n),8&r&&a!==(a=e[26])&&attr(t,"cy",a)},d(e){e&&detach(t)}}}function create_fragment$2(e){let t,n,a,r,o,i=e[3],s=[];for(let t=0;t<i.length;t+=1)s[t]=create_each_block(get_each_context(e,i,t));return{c(){t=element("div"),n=svg_element("svg"),a=svg_element("path"),r=svg_element("path"),o=svg_element("g");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=claim_element(e,"DIV",{class:!0,style:!0});var i=children(t);n=claim_element(i,"svg",{class:!0},1);var l=children(n);a=claim_element(l,"path",{class:!0,d:!0},1),children(a).forEach(detach),r=claim_element(l,"path",{class:!0,d:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0},1),children(r).forEach(detach),o=claim_element(l,"g",{},1);var c=children(o);for(let e=0;e<s.length;e+=1)s[e].l(c);c.forEach(detach),l.forEach(detach),i.forEach(detach),this.h()},h(){attr(a,"class","bg svelte-6n8uqp"),attr(a,"d",e[4]),attr(r,"class","fg svelte-6n8uqp"),attr(r,"d",e[4]),attr(r,"stroke-dasharray",e[0]),attr(r,"stroke-dashoffset",e[1]),attr(n,"class","svelte-6n8uqp"),attr(t,"class","path-container svelte-6n8uqp"),set_style(t,"height",e[2]+"px")},m(i,l){insert(i,t,l),append(t,n),append(n,a),append(n,r),e[12](r),append(n,o);for(let e=0;e<s.length;e+=1)s[e].m(o,null)},p(e,[n]){if(16&n&&attr(a,"d",e[4]),16&n&&attr(r,"d",e[4]),1&n&&attr(r,"stroke-dasharray",e[0]),2&n&&attr(r,"stroke-dashoffset",e[1]),8&n){let t;for(i=e[3],t=0;t<i.length;t+=1){const a=get_each_context(e,i,t);s[t]?s[t].p(a,n):(s[t]=create_each_block(a),s[t].c(),s[t].m(o,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=i.length}4&n&&set_style(t,"height",e[2]+"px")},i:noop,o:noop,d(n){n&&detach(t),e[12](null),destroy_each(s,n)}}}const step=1;function instance$2($$self,$$props,$$invalidate){let $scrollY,$viewport,dashOffset,pathLen,halfH;component_subscribe($$self,scrollY,e=>$$invalidate(10,$scrollY=e)),component_subscribe($$self,viewport,e=>$$invalidate(11,$viewport=e));let{selector:selector}=$$props,mounted=!1,documentH=0,points=[],yPositions=[],pathD="",pathEl=null,dashArray=0,end=0,blocks=null,observed,scrollMap={};const render=()=>setTimeout(renderPath,30),progress=()=>{const e=blocks.map(e=>e.className.includes("visible"));end=e.lastIndexOf(!0)},onMutation=(e,t)=>{!!e.find(e=>"class"===e.attributeName)&&progress()},createScrollPoints=()=>{$$invalidate(0,dashArray=pathEl.getTotalLength()),scrollMap={};for(let e=0;e<dashArray;e+=step){const{x:t,y:n}=pathEl.getPointAtLength(e),a=Math.floor(n/step);scrollMap[a]=e}},renderPath=()=>{if(!mounted)return!1;$$invalidate(2,documentH=document.body.scrollHeight),blocks=[].concat(...document.querySelectorAll(""+selector));const e={},t=blocks.map((t,n)=>{const{top:a,left:r,right:o,width:i}=t.getBoundingClientRect(),{id:s,side:l,count:c,index:d}=t.dataset;let u=$scrollY+a;const p=r+i/2;return s&&(e[s]||(e[s]={left:[],right:[]}),e[s].left.push(r),e[s].right.push(o),u-=27),{i:n,id:s,x:p,y:u,left:r,right:o,side:l,count:+c,index:+d}});Object.keys(e).map(t=>{e[t].left.sort((e,t)=>e-t),e[t].right.sort((e,t)=>t-e)}),$$invalidate(3,points=t.map(t=>{let n=t.x,a=t.y,r=t.i,o=t.side,i=t.index;if(t.id&&t.count>3){const a=e[t.id];a[t.side][0]===t[t.side]&&(a.maxed=!0),t.index>0&&(n=a.maxed?a[t.side][0]:a[t.side][1],n+="left"===t.side?-27:27)}return{i:r,x:n,y:a,side:o,index:i}})),yPositions=points.map(e=>e.y),yPositions.reverse(),$$invalidate(4,pathD=makeLine(points)),observed||(observed=!0,blocks.map(e=>{new MutationObserver(onMutation).observe(e,{attributes:!0})})),setTimeout(createScrollPoints,17)},getLen=e=>{const t=yPositions.find(t=>e>=t);if(!t)return 0;const n=Math.floor(t/step);return scrollMap[n]||0};onMount(()=>{mounted=!0});var rpGlobal="undefined"!=typeof window?window:global;function path1_binding(e){binding_callbacks[e?"unshift":"push"](()=>{pathEl=e,$$invalidate(5,pathEl)})}return rpGlobal.rpDsp=rpGlobal.rpDsp||function(){},rpDsp("SvelteReactiveEnable",{version:"0.6.1"}),$$self.$$set=e=>{"selector"in e&&$$invalidate(6,selector=e.selector)},$$self.$$.update=()=>{if(2048&$$self.$$.dirty){let svrp_start=Date.now(),svrp_exec=Math.random(),start_state=eval("$$self.$capture_state && $$self.$capture_state()");rpDsp("SvelteReactiveStart",{statement:"halfH = Math.floor($viewport.height / 2);",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Path.svelte",line:118,id:"NAIW"},svrp_start,svrp_exec,start_state),$$invalidate(9,halfH=Math.floor($viewport.height/2)),rpDsp("SvelteReactiveEnd",{statement:"halfH = Math.floor($viewport.height / 2);",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Path.svelte",line:118,id:"NAIW"},svrp_start,svrp_exec,start_state,eval("$$self.$capture_state && $$self.$capture_state()"))}if(1536&$$self.$$.dirty){let svrp_start=Date.now(),svrp_exec=Math.random(),start_state=eval("$$self.$capture_state && $$self.$capture_state()");rpDsp("SvelteReactiveStart",{statement:"pathLen = getLen($scrollY + halfH);",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Path.svelte",line:120,id:"7xvj"},svrp_start,svrp_exec,start_state),$$invalidate(8,pathLen=getLen($scrollY+halfH)),rpDsp("SvelteReactiveEnd",{statement:"pathLen = getLen($scrollY + halfH);",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Path.svelte",line:120,id:"7xvj"},svrp_start,svrp_exec,start_state,eval("$$self.$capture_state && $$self.$capture_state()"))}if(257&$$self.$$.dirty){let svrp_start=Date.now(),svrp_exec=Math.random(),start_state=eval("$$self.$capture_state && $$self.$capture_state()");rpDsp("SvelteReactiveStart",{statement:"dashOffset = dashArray - pathLen;",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Path.svelte",line:121,id:"lmSF"},svrp_start,svrp_exec,start_state),$$invalidate(1,dashOffset=dashArray-pathLen),rpDsp("SvelteReactiveEnd",{statement:"dashOffset = dashArray - pathLen;",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Path.svelte",line:121,id:"lmSF"},svrp_start,svrp_exec,start_state,eval("$$self.$capture_state && $$self.$capture_state()"))}},[dashArray,dashOffset,documentH,points,pathD,pathEl,selector,render,pathLen,halfH,$scrollY,$viewport,path1_binding]}class Path extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{selector:6,render:7})}get render(){return this.$$.ctx[7]}}function inView(e,t={}){let n;const a=t=>{const n=t[0].isIntersecting?"enter":"exit";e.dispatchEvent(new CustomEvent(n))},r=({root:t,top:r,bottom:o})=>{const i={root:t,rootMargin:`${r?-1*r:0}px 0px ${o?-1*o:0}px 0px`};n&&n.disconnect(),n=new IntersectionObserver(a,i),n.observe(e)};return r(t),{update(e){r(e)},destroy(){n&&n.disconnect()}}}const bottomOffset=derived(viewport,e=>Math.round(.25*e.height));function create_fragment$3(e){let t,n,a,r,o;return{c(){t=element("p"),this.h()},l(e){t=claim_element(e,"P",{class:!0}),children(t).forEach(detach),this.h()},h(){attr(t,"class","block locked svelte-dapx7j"),toggle_class(t,"visible",e[1])},m(i,s){insert(i,t,s),t.innerHTML=e[0],r||(o=[action_destroyer(n=switcher.call(null,t)),action_destroyer(a=inView.call(null,t,{bottom:e[2]})),listen(t,"enter",e[3]),listen(t,"exit",e[4])],r=!0)},p(e,[n]){1&n&&(t.innerHTML=e[0]),a&&is_function(a.update)&&4&n&&a.update.call(null,{bottom:e[2]}),2&n&&toggle_class(t,"visible",e[1])},i:noop,o:noop,d(e){e&&detach(t),r=!1,run_all(o)}}}function switcher(e,t){const n=e.querySelectorAll("span:not(.active)"),a=n.length-1;return n.forEach((e,t)=>{e.setAttribute("role","button"),e.addEventListener("click",()=>{n[t===a?0:t+1].classList.add("switch"),e.classList.remove("switch")},!1)}),{destroy(){}}}function instance$3(e,t,n){let a;component_subscribe(e,bottomOffset,e=>n(2,a=e));let r,{text:o}=t;var i="undefined"!=typeof window?window:global;i.rpDsp=i.rpDsp||function(){},rpDsp("SvelteReactiveEnable",{version:"0.6.1"});return e.$$set=e=>{"text"in e&&n(0,o=e.text)},[o,r,a,()=>n(1,r=!0),()=>n(1,r=!1)]}class Graf extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{text:0})}}function get_each_context$1(e,t,n){const a=e.slice();return a[2]=t[n].value,a}function create_each_block$1(e){let t,n;return t=new Graf({props:{text:e[2]}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,a){mount_component(t,e,a),n=!0},p(e,n){const a={};1&n&&(a.text=e[2]),t.$set(a)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_fragment$4(e){let t,n,a=e[0],r=[];for(let t=0;t<a.length;t+=1)r[t]=create_each_block$1(get_each_context$1(e,a,t));const o=e=>transition_out(r[e],1,1,()=>{r[e]=null});return{c(){t=element("div");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var n=children(t);for(let e=0;e<r.length;e+=1)r[e].l(n);n.forEach(detach),this.h()},h(){attr(t,"class","prose svelte-1exhpzg")},m(e,a){insert(e,t,a);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,[n]){if(1&n){let i;for(a=e[0],i=0;i<a.length;i+=1){const o=get_each_context$1(e,a,i);r[i]?(r[i].p(o,n),transition_in(r[i],1)):(r[i]=create_each_block$1(o),r[i].c(),transition_in(r[i],1),r[i].m(t,null))}for(group_outros(),i=a.length;i<r.length;i+=1)o(i);check_outros()}},i(e){if(!n){for(let e=0;e<a.length;e+=1)transition_in(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)transition_out(r[e]);n=!1},d(e){e&&detach(t),destroy_each(r,e)}}}function instance$4(e,t,n){let{grafs:a}=t;var r="undefined"!=typeof window?window:global;return r.rpDsp=r.rpDsp||function(){},rpDsp("SvelteReactiveEnable",{version:"0.6.1"}),e.$$set=e=>{"grafs"in e&&n(0,a=e.grafs)},[a]}class Prose extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{grafs:0})}}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(e,t,n){var a,r,o,i,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((a=t<e)&&(r=e,e=t,t=r),0===(i=tickIncrement(e,t,n))||!isFinite(i))return[];if(i>0)for(e=Math.ceil(e/i),t=Math.floor(t/i),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(e+s)*i;else for(i=-i,e=Math.ceil(e*i),t=Math.floor(t*i),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(e+s)/i;return a&&o.reverse(),o}function tickIncrement(e,t,n){var a=(t-e)/Math.max(0,n),r=Math.floor(Math.log(a)/Math.LN10),o=a/Math.pow(10,r);return r>=0?(o>=e10?10:o>=e5?5:o>=e2?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=e10?10:o>=e5?5:o>=e2?2:1)}function tickStep(e,t,n){var a=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),o=a/r;return o>=e10?r*=10:o>=e5?r*=5:o>=e2&&(r*=2),t<e?-r:r}function initInterpolator(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}function define(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function extend(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=reHex.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?rgbn(t):3===n?new Rgb(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?rgba(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=reRgbaInteger.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=reHslPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):"transparent"===e?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,255&e,1)}function rgba(e,t,n,a){return a<=0&&(e=t=n=NaN),new Rgb(e,t,n,a)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?new Rgb((e=e.rgb()).r,e.g,e.b,e.opacity):new Rgb}function rgb(e,t,n,a){return 1===arguments.length?rgbConvert(e):new Rgb(e,t,n,null==a?1:a)}function Rgb(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function hex(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function hsla(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,n,a)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;var t=(e=e.rgb()).r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),o=Math.max(t,n,a),i=NaN,s=o-r,l=(o+r)/2;return s?(i=t===o?(n-a)/s+6*(n<a):n===o?(a-t)/s+2:(t-n)/s+4,s/=l<.5?o+r:2-o-r,i*=60):s=l>0&&l<1?0:i,new Hsl(i,s,l,e.opacity)}function hsl(e,t,n,a){return 1===arguments.length?hslConvert(e):new Hsl(e,t,n,null==a?1:a)}function Hsl(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function hsl2rgb(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}define(Color,color,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb,extend(Color,{brighter:function(e){return e=null==e?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,hsl,extend(Color,{brighter:function(e){return e=null==e?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new Rgb(hsl2rgb(e>=240?e-240:e+120,r,a),hsl2rgb(e,r,a),hsl2rgb(e<120?e+240:e-120,r,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var constant=e=>()=>e;function linear(e,t){return function(n){return e+n*t}}function exponential(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function gamma(e){return 1==(e=+e)?nogamma:function(t,n){return n-t?exponential(t,n,e):constant(isNaN(t)?n:t)}}function nogamma(e,t){var n=t-e;return n?linear(e,n):constant(isNaN(e)?t:e)}var rgb$1=function e(t){var n=gamma(t);function a(e,t){var a=n((e=rgb(e)).r,(t=rgb(t)).r),r=n(e.g,t.g),o=n(e.b,t.b),i=nogamma(e.opacity,t.opacity);return function(t){return e.r=a(t),e.g=r(t),e.b=o(t),e.opacity=i(t),e+""}}return a.gamma=e,a}(1);function numberArray(e,t){t||(t=[]);var n,a=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(n=0;n<a;++n)r[n]=e[n]*(1-o)+t[n]*o;return r}}function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function genericArray(e,t){var n,a=t?t.length:0,r=e?Math.min(a,e.length):0,o=new Array(r),i=new Array(a);for(n=0;n<r;++n)o[n]=interpolate(e[n],t[n]);for(;n<a;++n)i[n]=t[n];return function(e){for(n=0;n<r;++n)i[n]=o[n](e);return i}}function date(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function interpolateNumber(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function object(e,t){var n,a={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?a[n]=interpolate(e[n],t[n]):r[n]=t[n];return function(e){for(n in a)r[n]=a[n](e);return r}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}function string(e,t){var n,a,r,o=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],l=[];for(e+="",t+="";(n=reA.exec(e))&&(a=reB.exec(t));)(r=a.index)>o&&(r=t.slice(o,r),s[i]?s[i]+=r:s[++i]=r),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i:i,x:interpolateNumber(n,a)})),o=reB.lastIndex;return o<t.length&&(r=t.slice(o),s[i]?s[i]+=r:s[++i]=r),s.length<2?l[0]?one(l[0].x):zero(t):(t=l.length,function(e){for(var n,a=0;a<t;++a)s[(n=l[a]).i]=n.x(e);return s.join("")})}function interpolate(e,t){var n,a=typeof t;return null==t||"boolean"===a?constant(t):("number"===a?interpolateNumber:"string"===a?(n=color(t))?(t=n,rgb$1):string:t instanceof color?rgb$1:t instanceof Date?date:isNumberArray(t)?numberArray:Array.isArray(t)?genericArray:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?object:interpolateNumber)(e,t)}function interpolateRound(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function piecewise(e,t){void 0===t&&(t=e,e=interpolate);for(var n=0,a=t.length-1,r=t[0],o=new Array(a<0?0:a);n<a;)o[n]=e(r,r=t[++n]);return function(e){var t=Math.max(0,Math.min(a-1,Math.floor(e*=a)));return o[t](e-t)}}function identity(e){return e}function formatDecimal(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function formatDecimalParts(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function exponent(e){return(e=formatDecimalParts(Math.abs(e)))?e[1]:NaN}function formatGroup(e,t){return function(n,a){for(var r=n.length,o=[],i=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>a&&(s=Math.max(1,a-l)),o.push(n.substring(r-=s,r+s)),!((l+=s+1)>a));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function formatNumerals(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,prefixExponent;function formatSpecifier(e){if(!(t=re.exec(e)))throw new Error("invalid format: "+e);var t;return new FormatSpecifier({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function FormatSpecifier(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function formatTrim(e){e:for(var t,n=e.length,a=1,r=-1;a<n;++a)switch(e[a]){case".":r=t=a;break;case"0":0===r&&(r=a),t=a;break;default:if(!+e[a])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}function formatPrefixAuto(e,t){var n=formatDecimalParts(e,t);if(!n)return e+"";var a=n[0],r=n[1],o=r-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,i=a.length;return o===i?a:o>i?a+new Array(o-i+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+formatDecimalParts(e,Math.max(0,t+o-1))[0]}function formatRounded(e,t){var n=formatDecimalParts(e,t);if(!n)return e+"";var a=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+a:a.length>r+1?a.slice(0,r+1)+"."+a.slice(r+1):a+new Array(r-a.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:formatDecimal,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>formatRounded(100*e,t),r:formatRounded,s:formatPrefixAuto,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function identity$1(e){return e}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],locale,format,formatPrefix;function formatLocale(e){var t=void 0===e.grouping||void 0===e.thousands?identity$1:formatGroup(map.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",r=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?identity$1:formatNumerals(map.call(e.numerals,String)),i=void 0===e.percent?"%":e.percent+"",s=void 0===e.minus?"−":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function c(e){var c=(e=formatSpecifier(e)).fill,d=e.align,u=e.sign,p=e.symbol,h=e.zero,m=e.width,f=e.comma,g=e.precision,v=e.trim,_=e.type;"n"===_?(f=!0,_="g"):formatTypes[_]||(void 0===g&&(g=12),v=!0,_="g"),(h||"0"===c&&"="===d)&&(h=!0,c="0",d="=");var b="$"===p?n:"#"===p&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",y="$"===p?a:/[%p]/.test(_)?i:"",$=formatTypes[_],w=/[defgprs%]/.test(_);function x(e){var n,a,i,p=b,x=y;if("c"===_)x=$(e)+x,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:$(Math.abs(e),g),v&&(e=formatTrim(e)),k&&0==+e&&"+"!==u&&(k=!1),p=(k?"("===u?u:s:"-"===u||"("===u?"":u)+p,x=("s"===_?prefixes[8+prefixExponent/3]:"")+x+(k&&"("===u?")":""),w)for(n=-1,a=e.length;++n<a;)if(48>(i=e.charCodeAt(n))||i>57){x=(46===i?r+e.slice(n+1):e.slice(n))+x,e=e.slice(0,n);break}}f&&!h&&(e=t(e,1/0));var M=p.length+e.length+x.length,E=M<m?new Array(m-M+1).join(c):"";switch(f&&h&&(e=t(E+e,E.length?m-x.length:1/0),E=""),d){case"<":e=p+e+x+E;break;case"=":e=p+E+e+x;break;case"^":e=E.slice(0,M=E.length>>1)+p+e+x+E.slice(M);break;default:e=E+p+e+x}return o(e)}return g=void 0===g?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),x.toString=function(){return e+""},x}return{format:c,formatPrefix:function(e,t){var n=c(((e=formatSpecifier(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(exponent(t)/3))),r=Math.pow(10,-a),o=prefixes[8+a/3];return function(e){return n(r*e)+o}}}}function defaultLocale(e){return locale=formatLocale(e),format=locale.format,formatPrefix=locale.formatPrefix,locale}function precisionFixed(e){return Math.max(0,-exponent(Math.abs(e)))}function precisionPrefix(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(t)/3)))-exponent(Math.abs(e)))}function precisionRound(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,exponent(t)-exponent(e))+1}function tickFormat(e,t,n,a){var r,o=tickStep(e,t,n);switch((a=formatSpecifier(null==a?",f":a)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(r=precisionPrefix(o,i))||(a.precision=r),formatPrefix(a,i);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(r=precisionRound(o,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=r-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(r=precisionFixed(o))||(a.precision=r-2*("%"===a.type))}return format(a)}function linearish(e){var t=e.domain;return e.ticks=function(e){var n=t();return ticks(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var a=t();return tickFormat(a[0],a[a.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var a,r,o=t(),i=0,s=o.length-1,l=o[i],c=o[s],d=10;for(c<l&&(r=l,l=c,c=r,r=i,i=s,s=r);d-- >0;){if((r=tickIncrement(l,c,n))===a)return o[i]=l,o[s]=c,t(o);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}a=r}return e},e}function copy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function transformer(){var e,t,n,a,r,o,i,s=0,l=.5,c=1,d=1,u=identity,p=!1;function h(e){return isNaN(e=+e)?i:(e=.5+((e=+o(e))-t)*(d*e<d*t?a:r),u(p?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,a,r;return arguments.length?([n,a,r]=t,u=piecewise(e,[n,a,r]),h):[u(0),u(.5),u(1)]}}return h.domain=function(i){return arguments.length?([s,l,c]=i,e=o(s=+s),t=o(l=+l),n=o(c=+c),a=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),d=t<e?-1:1,h):[s,l,c]},h.clamp=function(e){return arguments.length?(p=!!e,h):p},h.interpolator=function(e){return arguments.length?(u=e,h):u},h.range=m(interpolate),h.rangeRound=m(interpolateRound),h.unknown=function(e){return arguments.length?(i=e,h):i},function(i){return o=i,e=i(s),t=i(l),n=i(c),a=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),d=t<e?-1:1,h}}function diverging(){var e=linearish(transformer()(identity));return e.copy=function(){return copy(e,diverging())},initInterpolator.apply(e,arguments)}function get_each_context$2(e,t,n){const a=e.slice();return a[11]=t[n].chunk,a[12]=t[n].offset,a[13]=t[n].id,a[14]=t[n].side,a[15]=t[n].count,a[16]=t[n].index,a[18]=n,a}function create_else_block(e){let t,n=e[3],a=[];for(let t=0;t<n.length;t+=1)a[t]=create_each_block$2(get_each_context$2(e,n,t));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=empty()},l(e){for(let t=0;t<a.length;t+=1)a[t].l(e);t=empty()},m(e,n){for(let t=0;t<a.length;t+=1)a[t].m(e,n);insert(e,t,n)},p(e,r){if(63&r){let o;for(n=e[3],o=0;o<n.length;o+=1){const i=get_each_context$2(e,n,o);a[o]?a[o].p(i,r):(a[o]=create_each_block$2(i),a[o].c(),a[o].m(t.parentNode,t))}for(;o<a.length;o+=1)a[o].d(1);a.length=n.length}},d(e){destroy_each(a,e),e&&detach(t)}}}function create_if_block(e){let t,n,a,r,o,i=e[3].replace(/\\/g,"")+"";return{c(){t=element("span"),this.h()},l(e){t=claim_element(e,"SPAN",{"data-id":!0,class:!0}),children(t).forEach(detach),this.h()},h(){attr(t,"data-id","true"),attr(t,"class",n="block "+e[0]+" svelte-e6ar6w"),toggle_class(t,"locked",e[1]===e[2]),toggle_class(t,"visible",e[4][0])},m(n,s){insert(n,t,s),t.innerHTML=i,r||(o=[action_destroyer(a=inView.call(null,t,{bottom:e[5]})),listen(t,"enter",e[6]),listen(t,"exit",e[7])],r=!0)},p(e,r){8&r&&i!==(i=e[3].replace(/\\/g,"")+"")&&(t.innerHTML=i),1&r&&n!==(n="block "+e[0]+" svelte-e6ar6w")&&attr(t,"class",n),a&&is_function(a.update)&&32&r&&a.update.call(null,{bottom:e[5]}),7&r&&toggle_class(t,"locked",e[1]===e[2]),17&r&&toggle_class(t,"visible",e[4][0])},d(e){e&&detach(t),r=!1,run_all(o)}}}function create_each_block$2(e){let t,n,a,r,o,i,s,l,c,d=e[11].replace(/\\/g,"")+"";function u(){return e[8](e[18])}function p(){return e[9](e[18])}return{c(){t=element("span"),this.h()},l(e){t=claim_element(e,"SPAN",{class:!0,"data-id":!0,"data-side":!0,"data-count":!0,"data-index":!0,style:!0}),children(t).forEach(detach),this.h()},h(){attr(t,"class",n="block chunk "+e[0]+" svelte-e6ar6w"),attr(t,"data-id",a=e[13]),attr(t,"data-side",r=e[14]),attr(t,"data-count",o=e[15]),attr(t,"data-index",i=e[16]),set_style(t,"transform","translateX("+e[12]+"px)"),toggle_class(t,"locked",e[1]===e[2]),toggle_class(t,"visible",e[4][e[18]])},m(n,a){insert(n,t,a),t.innerHTML=d,l||(c=[action_destroyer(s=inView.call(null,t,{bottom:e[5]})),listen(t,"enter",u),listen(t,"exit",p)],l=!0)},p(l,c){e=l,8&c&&d!==(d=e[11].replace(/\\/g,"")+"")&&(t.innerHTML=d),1&c&&n!==(n="block chunk "+e[0]+" svelte-e6ar6w")&&attr(t,"class",n),8&c&&a!==(a=e[13])&&attr(t,"data-id",a),8&c&&r!==(r=e[14])&&attr(t,"data-side",r),8&c&&o!==(o=e[15])&&attr(t,"data-count",o),8&c&&i!==(i=e[16])&&attr(t,"data-index",i),8&c&&set_style(t,"transform","translateX("+e[12]+"px)"),s&&is_function(s.update)&&32&c&&s.update.call(null,{bottom:e[5]}),7&c&&toggle_class(t,"locked",e[1]===e[2]),17&c&&toggle_class(t,"visible",e[4][e[18]])},d(e){e&&detach(t),l=!1,run_all(c)}}}function create_fragment$5(e){let t;function n(e,t){return"string"==typeof e[3]?create_if_block:create_else_block}let a=n(e),r=a(e);return{c(){r.c(),t=empty()},l(e){r.l(e),t=empty()},m(e,n){r.m(e,n),insert(e,t,n)},p(e,[o]){a===(a=n(e))&&r?r.p(e,o):(r.d(1),r=a(e),r&&(r.c(),r.m(t.parentNode,t)))},i:noop,o:noop,d(e){r.d(e),e&&detach(t)}}}function instance$5(e,t,n){let a;component_subscribe(e,bottomOffset,e=>n(5,a=e));let{type:r}=t,{locked:o}=t,{i:i}=t,{value:s}=t;const l=[];var c="undefined"!=typeof window?window:global;c.rpDsp=c.rpDsp||function(){},rpDsp("SvelteReactiveEnable",{version:"0.6.1"});return e.$$set=e=>{"type"in e&&n(0,r=e.type),"locked"in e&&n(1,o=e.locked),"i"in e&&n(2,i=e.i),"value"in e&&n(3,s=e.value)},[r,o,i,s,l,a,()=>n(4,l[0]=!0,l),()=>n(4,l[0]=!1,l),e=>n(4,l[e]=!0,l),e=>n(4,l[e]=!1,l)]}defaultLocale({thousands:",",grouping:[3],currency:["$",""]});class Text_Graf extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$5,safe_not_equal,{type:0,locked:1,i:2,value:3})}}function get_each_context$3(e,t,n){const a=e.slice();return a[6]=t[n].value,a}function create_each_block$3(e){let t,n,a,r,o;return n=new Text_Graf({props:{type:e[1],locked:e[3],value:e[6],i:e[4]}}),{c(){t=element("p"),create_component(n.$$.fragment),a=space(),this.h()},l(e){t=claim_element(e,"P",{class:!0});var r=children(t);claim_component(n.$$.fragment,r),a=claim_space(r),r.forEach(detach),this.h()},h(){attr(t,"class",r=null_to_empty(e[1])+" svelte-z1wta7"),toggle_class(t,"active",e[2]===e[4])},m(e,r){insert(e,t,r),mount_component(n,t,null),append(t,a),o=!0},p(e,a){const i={};2&a&&(i.type=e[1]),8&a&&(i.locked=e[3]),1&a&&(i.value=e[6]),16&a&&(i.i=e[4]),n.$set(i),(!o||2&a&&r!==(r=null_to_empty(e[1])+" svelte-z1wta7"))&&attr(t,"class",r),22&a&&toggle_class(t,"active",e[2]===e[4])},i(e){o||(transition_in(n.$$.fragment,e),o=!0)},o(e){transition_out(n.$$.fragment,e),o=!1},d(e){e&&detach(t),destroy_component(n)}}}function create_fragment$6(e){let t,n,a=e[0],r=[];for(let t=0;t<a.length;t+=1)r[t]=create_each_block$3(get_each_context$3(e,a,t));const o=e=>transition_out(r[e],1,1,()=>{r[e]=null});return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=empty()},l(e){for(let t=0;t<r.length;t+=1)r[t].l(e);t=empty()},m(e,a){for(let t=0;t<r.length;t+=1)r[t].m(e,a);insert(e,t,a),n=!0},p(e,[n]){if(31&n){let i;for(a=e[0],i=0;i<a.length;i+=1){const o=get_each_context$3(e,a,i);r[i]?(r[i].p(o,n),transition_in(r[i],1)):(r[i]=create_each_block$3(o),r[i].c(),transition_in(r[i],1),r[i].m(t.parentNode,t))}for(group_outros(),i=a.length;i<r.length;i+=1)o(i);check_outros()}},i(e){if(!n){for(let e=0;e<a.length;e+=1)transition_in(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)transition_out(r[e]);n=!1},d(e){destroy_each(r,e),e&&detach(t)}}}function instance$6(e,t,n){let{text:a}=t,{type:r}=t,{active:o}=t,{locked:i}=t,{i:s}=t;var l="undefined"!=typeof window?window:global;return l.rpDsp=l.rpDsp||function(){},rpDsp("SvelteReactiveEnable",{version:"0.6.1"}),e.$$set=e=>{"text"in e&&n(0,a=e.text),"type"in e&&n(1,r=e.type),"active"in e&&n(2,o=e.active),"locked"in e&&n(3,i=e.locked),"i"in e&&n(4,s=e.i)},[a,r,o,i,s]}class Outcome_Text extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$6,safe_not_equal,{text:0,type:1,active:2,locked:3,i:4})}}function css(e,t){function n(){if(t)for(const n of Object.keys(t))e.style.setProperty("--"+n,t[n])}return n(),{update(e){t=e,n()}}}function get_each_context$4(e,t,n){const a=e.slice();return a[12]=t[n].text,a[13]=t[n].type,a[14]=t[n].rotate,a[16]=n,a}function create_if_block$1(e){let t,n;return t=new Outcome_Text({props:{text:e[12],type:e[13],locked:e[4],i:e[16],active:e[1]}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,a){mount_component(t,e,a),n=!0},p(e,n){const a={};1&n&&(a.text=e[12]),1&n&&(a.type=e[13]),16&n&&(a.locked=e[4]),2&n&&(a.active=e[1]),t.$set(a)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_each_block$4(e){let t,n,a,r,o,i,s,l=e[12]&&create_if_block$1(e);return{c(){t=element("div"),l&&l.c(),n=space(),this.h()},l(e){t=claim_element(e,"DIV",{class:!0,style:!0});var a=children(t);l&&l.l(a),n=claim_space(a),a.forEach(detach),this.h()},h(){attr(t,"class",a="outcome "+e[13]+" svelte-10ykuvp"),set_style(t,"transform","rotate("+e[14]+"deg) translateY(4.5em)"),toggle_class(t,"active",e[1]===e[16]),toggle_class(t,"inactive",2===Math.abs(e[1]-e[16]))},m(a,c){insert(a,t,c),l&&l.m(t,null),append(t,n),o=!0,i||(s=action_destroyer(r=e[5].call(null,t,{type:e[13]})),i=!0)},p(i,s){(e=i)[12]?l?(l.p(e,s),1&s&&transition_in(l,1)):(l=create_if_block$1(e),l.c(),transition_in(l,1),l.m(t,n)):l&&(group_outros(),transition_out(l,1,1,()=>{l=null}),check_outros()),(!o||1&s&&a!==(a="outcome "+e[13]+" svelte-10ykuvp"))&&attr(t,"class",a),(!o||1&s)&&set_style(t,"transform","rotate("+e[14]+"deg) translateY(4.5em)"),r&&is_function(r.update)&&1&s&&r.update.call(null,{type:e[13]}),3&s&&toggle_class(t,"active",e[1]===e[16]),3&s&&toggle_class(t,"inactive",2===Math.abs(e[1]-e[16]))},i(e){o||(transition_in(l),o=!0)},o(e){transition_out(l),o=!1},d(e){e&&detach(t),l&&l.d(),i=!1,s()}}}function create_fragment$7(e){let t,n,a,r,o,i=e[0],s=[];for(let t=0;t<i.length;t+=1)s[t]=create_each_block$4(get_each_context$4(e,i,t));const l=e=>transition_out(s[e],1,1,()=>{s[e]=null});return{c(){t=element("div");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=claim_element(e,"DIV",{class:!0,style:!0});var n=children(t);for(let e=0;e<s.length;e+=1)s[e].l(n);n.forEach(detach),this.h()},h(){attr(t,"class","decision-outcome svelte-10ykuvp"),set_style(t,"transform","rotate("+e[3]+"deg)")},m(i,l){insert(i,t,l);for(let e=0;e<s.length;e+=1)s[e].m(t,null);a=!0,r||(o=[listen(t,"transitionend",self$1(e[6])),action_destroyer(n=css.call(null,t,{dur:e[2]}))],r=!0)},p(e,[r]){if(19&r){let n;for(i=e[0],n=0;n<i.length;n+=1){const a=get_each_context$4(e,i,n);s[n]?(s[n].p(a,r),transition_in(s[n],1)):(s[n]=create_each_block$4(a),s[n].c(),transition_in(s[n],1),s[n].m(t,null))}for(group_outros(),n=i.length;n<s.length;n+=1)l(n);check_outros()}(!a||8&r)&&set_style(t,"transform","rotate("+e[3]+"deg)"),n&&is_function(n.update)&&4&r&&n.update.call(null,{dur:e[2]})},i(e){if(!a){for(let e=0;e<i.length;e+=1)transition_in(s[e]);a=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)transition_out(s[e]);a=!1},d(e){e&&detach(t),destroy_each(s,e),r=!1,run_all(o)}}}function instance$7($$self,$$props,$$invalidate){let r,current,{data:data=[]}=$$props,{active:active}=$$props,{marginBottom:marginBottom=0}=$$props,{dur:dur="500ms"}=$$props;const dispatch=createEventDispatcher();let locked=1;const margins=[],margin=(e,{type:t})=>{margins.push(e.offsetHeight)},onTransitionEnd=async e=>{$$invalidate(4,locked=active),await tick(),dispatch("change")};onMount(()=>{$$invalidate(7,marginBottom=margins[locked]),dispatch("change")});var rpGlobal="undefined"!=typeof window?window:global;return rpGlobal.rpDsp=rpGlobal.rpDsp||function(){},rpDsp("SvelteReactiveEnable",{version:"0.6.1"}),$$self.$$set=e=>{"data"in e&&$$invalidate(0,data=e.data),"active"in e&&$$invalidate(1,active=e.active),"marginBottom"in e&&$$invalidate(7,marginBottom=e.marginBottom),"dur"in e&&$$invalidate(2,dur=e.dur)},$$self.$$.update=()=>{if(3&$$self.$$.dirty){let svrp_start=Date.now(),svrp_exec=Math.random(),start_state=eval("$$self.$capture_state && $$self.$capture_state()");rpDsp("SvelteReactiveStart",{statement:"current = data[active];",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Decision.Outcome.svelte",line:16,id:"niGC"},svrp_start,svrp_exec,start_state),$$invalidate(8,current=data[active]),rpDsp("SvelteReactiveEnd",{statement:"current = data[active];",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Decision.Outcome.svelte",line:16,id:"niGC"},svrp_start,svrp_exec,start_state,eval("$$self.$capture_state && $$self.$capture_state()"))}if(256&$$self.$$.dirty){let svrp_start=Date.now(),svrp_exec=Math.random(),start_state=eval("$$self.$capture_state && $$self.$capture_state()");rpDsp("SvelteReactiveStart",{statement:"r = current.rotate * -1;",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Decision.Outcome.svelte",line:17,id:"QnEI"},svrp_start,svrp_exec,start_state),$$invalidate(3,r=-1*current.rotate),rpDsp("SvelteReactiveEnd",{statement:"r = current.rotate * -1;",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Decision.Outcome.svelte",line:17,id:"QnEI"},svrp_start,svrp_exec,start_state,eval("$$self.$capture_state && $$self.$capture_state()"))}if(2&$$self.$$.dirty){let svrp_start=Date.now(),svrp_exec=Math.random(),start_state=eval("$$self.$capture_state && $$self.$capture_state()");rpDsp("SvelteReactiveStart",{statement:"active, (marginBottom = margins[active]);",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Decision.Outcome.svelte",line:18,id:"U1EF"},svrp_start,svrp_exec,start_state),$$invalidate(7,marginBottom=margins[active]),rpDsp("SvelteReactiveEnd",{statement:"active, (marginBottom = margins[active]);",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Decision.Outcome.svelte",line:18,id:"U1EF"},svrp_start,svrp_exec,start_state,eval("$$self.$capture_state && $$self.$capture_state()"))}},[data,active,dur,r,locked,margin,onTransitionEnd,marginBottom,current]}class Decision_Outcome extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$7,safe_not_equal,{data:0,active:1,marginBottom:7,dur:2})}}function get_each_context$5(e,t,n){const a=e.slice();return a[8]=t[n].slug,a[9]=t[n].title,a[10]=t[n].rotate,a[12]=n,a}function create_each_block$5(e){let t,n,a,r,o,i,s,l,c,d,u,p,h=e[9]+"";return{c(){t=element("div"),n=element("div"),a=element("input"),i=space(),s=element("label"),l=text(h),d=space(),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var r=children(t);n=claim_element(r,"DIV",{class:!0,style:!0});var o=children(n);a=claim_element(o,"INPUT",{id:!0,type:!0,value:!0,class:!0}),i=claim_space(o),s=claim_element(o,"LABEL",{for:!0,style:!0,class:!0});var c=children(s);l=claim_text(c,h),c.forEach(detach),o.forEach(detach),d=claim_space(r),r.forEach(detach),this.h()},h(){attr(a,"id",r=e[8]),attr(a,"type","radio"),a.__value=o=e[12],a.value=a.__value,attr(a,"class","svelte-1bh8xq1"),e[6][0].push(a),attr(s,"for",c=e[8]),set_style(s,"transform","rotate("+(-e[10]+e[3])+"deg)"),attr(s,"class","svelte-1bh8xq1"),attr(n,"class","rotate svelte-1bh8xq1"),set_style(n,"transform","rotate("+e[10]+"deg)"),attr(t,"class","choice svelte-1bh8xq1")},m(r,o){insert(r,t,o),append(t,n),append(n,a),a.checked=a.__value===e[0],append(n,i),append(n,s),append(s,l),append(t,d),u||(p=listen(a,"change",e[5]),u=!0)},p(e,t){2&t&&r!==(r=e[8])&&attr(a,"id",r),1&t&&(a.checked=a.__value===e[0]),2&t&&h!==(h=e[9]+"")&&set_data(l,h),2&t&&c!==(c=e[8])&&attr(s,"for",c),10&t&&set_style(s,"transform","rotate("+(-e[10]+e[3])+"deg)"),2&t&&set_style(n,"transform","rotate("+e[10]+"deg)")},d(n){n&&detach(t),e[6][0].splice(e[6][0].indexOf(a),1),u=!1,p()}}}function create_fragment$8(e){let t,n,a,r,o,i=e[1],s=[];for(let t=0;t<i.length;t+=1)s[t]=create_each_block$5(get_each_context$5(e,i,t));return{c(){t=element("div"),n=element("fieldset");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=claim_element(e,"DIV",{class:!0,style:!0});var a=children(t);n=claim_element(a,"FIELDSET",{class:!0});var r=children(n);for(let e=0;e<s.length;e+=1)s[e].l(r);r.forEach(detach),a.forEach(detach),this.h()},h(){attr(n,"class","svelte-1bh8xq1"),attr(t,"class","decision-input svelte-1bh8xq1"),set_style(t,"transform","rotate("+-e[3]+"deg)")},m(i,l){insert(i,t,l),append(t,n);for(let e=0;e<s.length;e+=1)s[e].m(n,null);r||(o=action_destroyer(a=css.call(null,t,{dur:e[2]})),r=!0)},p(e,[r]){if(11&r){let t;for(i=e[1],t=0;t<i.length;t+=1){const a=get_each_context$5(e,i,t);s[t]?s[t].p(a,r):(s[t]=create_each_block$5(a),s[t].c(),s[t].m(n,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=i.length}8&r&&set_style(t,"transform","rotate("+-e[3]+"deg)"),a&&is_function(a.update)&&4&r&&a.update.call(null,{dur:e[2]})},i:noop,o:noop,d(e){e&&detach(t),destroy_each(s,e),r=!1,o()}}}function instance$8($$self,$$props,$$invalidate){let r,current,{data:data}=$$props,{active:active}=$$props,{dur:dur}=$$props;var rpGlobal="undefined"!=typeof window?window:global;rpGlobal.rpDsp=rpGlobal.rpDsp||function(){},rpDsp("SvelteReactiveEnable",{version:"0.6.1"});const $$binding_groups=[[]];function input_change_handler(){active=this.__value,$$invalidate(0,active)}return $$self.$$set=e=>{"data"in e&&$$invalidate(1,data=e.data),"active"in e&&$$invalidate(0,active=e.active),"dur"in e&&$$invalidate(2,dur=e.dur)},$$self.$$.update=()=>{if(3&$$self.$$.dirty){let svrp_start=Date.now(),svrp_exec=Math.random(),start_state=eval("$$self.$capture_state && $$self.$capture_state()");rpDsp("SvelteReactiveStart",{statement:"current = data[active];",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Decision.Input.svelte",line:6,id:"e6HD"},svrp_start,svrp_exec,start_state),$$invalidate(4,current=data[active]),rpDsp("SvelteReactiveEnd",{statement:"current = data[active];",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Decision.Input.svelte",line:6,id:"e6HD"},svrp_start,svrp_exec,start_state,eval("$$self.$capture_state && $$self.$capture_state()"))}if(16&$$self.$$.dirty){let svrp_start=Date.now(),svrp_exec=Math.random(),start_state=eval("$$self.$capture_state && $$self.$capture_state()");rpDsp("SvelteReactiveStart",{statement:"r = current.rotate;",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Decision.Input.svelte",line:7,id:"nxn4"},svrp_start,svrp_exec,start_state),$$invalidate(3,r=current.rotate),rpDsp("SvelteReactiveEnd",{statement:"r = current.rotate;",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Decision.Input.svelte",line:7,id:"nxn4"},svrp_start,svrp_exec,start_state,eval("$$self.$capture_state && $$self.$capture_state()"))}},[active,data,dur,r,current,input_change_handler,$$binding_groups]}class Decision_Input extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$8,safe_not_equal,{data:1,active:0,dur:2})}}function create_if_block$2(e){let t,n,a,r,o,i,s,l,c,d,u,p,h,m=e[0][0].leadin+"";function f(t){e[8].call(null,t)}let g={data:e[6],dur:e[4]};function v(t){e[9].call(null,t)}void 0!==e[1]&&(g.active=e[1]),o=new Decision_Input({props:g}),binding_callbacks.push(()=>bind(o,"active",f));let _={data:e[6],active:e[1],dur:e[4]};return void 0!==e[3]&&(_.marginBottom=e[3]),l=new Decision_Outcome({props:_}),binding_callbacks.push(()=>bind(l,"marginBottom",v)),l.$on("change",e[10]),{c(){t=element("div"),n=element("p"),a=text(m),r=space(),create_component(o.$$.fragment),s=space(),create_component(l.$$.fragment),this.h()},l(e){t=claim_element(e,"DIV",{class:!0,style:!0});var i=children(t);n=claim_element(i,"P",{class:!0});var c=children(n);a=claim_text(c,m),c.forEach(detach),r=claim_space(i),claim_component(o.$$.fragment,i),s=claim_space(i),claim_component(l.$$.fragment,i),i.forEach(detach),this.h()},h(){attr(n,"class","leadin block locked svelte-1opwjjy"),attr(t,"class","decision svelte-1opwjjy"),set_style(t,"margin-bottom",e[3]+"px"),toggle_class(t,"visible",e[2])},m(i,c){insert(i,t,c),append(t,n),append(n,a),append(t,r),mount_component(o,t,null),append(t,s),mount_component(l,t,null),u=!0,p||(h=[action_destroyer(d=inView.call(null,t,{bottom:e[5]})),listen(t,"enter",e[11]),listen(t,"exit",e[12])],p=!0)},p(e,n){(!u||1&n)&&m!==(m=e[0][0].leadin+"")&&set_data(a,m);const r={};16&n&&(r.dur=e[4]),!i&&2&n&&(i=!0,r.active=e[1],add_flush_callback(()=>i=!1)),o.$set(r);const s={};2&n&&(s.active=e[1]),16&n&&(s.dur=e[4]),!c&&8&n&&(c=!0,s.marginBottom=e[3],add_flush_callback(()=>c=!1)),l.$set(s),(!u||8&n)&&set_style(t,"margin-bottom",e[3]+"px"),d&&is_function(d.update)&&32&n&&d.update.call(null,{bottom:e[5]}),4&n&&toggle_class(t,"visible",e[2])},i(e){u||(transition_in(o.$$.fragment,e),transition_in(l.$$.fragment,e),u=!0)},o(e){transition_out(o.$$.fragment,e),transition_out(l.$$.fragment,e),u=!1},d(e){e&&detach(t),destroy_component(o),destroy_component(l),p=!1,run_all(h)}}}function create_fragment$9(e){let t,n,a=e[0].length&&create_if_block$2(e);return{c(){a&&a.c(),t=empty()},l(e){a&&a.l(e),t=empty()},m(e,r){a&&a.m(e,r),insert(e,t,r),n=!0},p(e,[n]){e[0].length?a?(a.p(e,n),1&n&&transition_in(a,1)):(a=create_if_block$2(e),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(e){n||(transition_in(a),n=!0)},o(e){transition_out(a),n=!1},d(e){a&&a.d(e),e&&detach(t)}}}function instance$9($$self,$$props,$$invalidate){let $bottomOffset;component_subscribe($$self,bottomOffset,e=>$$invalidate(5,$bottomOffset=e));let{choices:choices=[]}=$$props,visible;const positionText=e=>{const t=e.map(e=>e.value.split("<br>")),n=[].concat(...t).length;let a=0;return t.map(e=>{const t=e.length,r=e[0].replace(/\W/g,"").slice(0,20),o=[];return e.forEach((e,i)=>{const s=-1*Math.sin((a+1e-4)/n*Math.PI*2),l=s<0?"left":"right",c=15-30*Math.random(),d=0===i||t<4?0:Math.round(50*s+c);o.push({chunk:e,offset:d,id:r,side:l,count:t,index:i}),a+=1}),{value:o}})},middle=Math.floor(choices.length/2),scale=diverging().domain([0,middle,choices.length-1]).range([60,0,-60]),data=choices.map((e,t)=>({...e,slug:e.title.toLowerCase().replace(/\W/g,"").substring(0,20),rotate:scale(t),text:"reality"===e.type?e.text:positionText(e.text)}));let active=Math.floor(data.length/2),prev=active,marginBottom=0,dur="500ms";var rpGlobal="undefined"!=typeof window?window:global;function input_active_binding(e){active=e,$$invalidate(1,active)}function outcome_marginBottom_binding(e){marginBottom=e,$$invalidate(3,marginBottom)}function change_handler(e){bubble($$self,e)}rpGlobal.rpDsp=rpGlobal.rpDsp||function(){},rpDsp("SvelteReactiveEnable",{version:"0.6.1"});const enter_handler=()=>$$invalidate(2,visible=!0),exit_handler=()=>$$invalidate(2,visible=!1);return $$self.$$set=e=>{"choices"in e&&$$invalidate(0,choices=e.choices)},$$self.$$.update=()=>{if(130&$$self.$$.dirty){let svrp_start=Date.now(),svrp_exec=Math.random(),start_state=eval("$$self.$capture_state && $$self.$capture_state()");rpDsp("SvelteReactiveStart",{statement:"{\n    const diff = Math.abs(active - prev);\n    dur = `${500 * diff}ms`;\n    prev = active;\n  }",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Decision.svelte",line:53,id:"SHZ0"},svrp_start,svrp_exec,start_state);{const e=Math.abs(active-prev);$$invalidate(4,dur=500*e+"ms"),$$invalidate(7,prev=active)}rpDsp("SvelteReactiveEnd",{statement:"{\n    const diff = Math.abs(active - prev);\n    dur = `${500 * diff}ms`;\n    prev = active;\n  }",filename:"/Users/russell/Pudding/projects/love-and-ai/src/components/Decision.svelte",line:53,id:"SHZ0"},svrp_start,svrp_exec,start_state,eval("$$self.$capture_state && $$self.$capture_state()"))}},[choices,active,visible,marginBottom,dur,$bottomOffset,data,prev,input_active_binding,outcome_marginBottom_binding,change_handler,enter_handler,exit_handler]}class Decision extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$9,safe_not_equal,{choices:0})}}function create_fragment$a(e){let t,n,a,r,o,i,s,l,c,d,u,p,h,m,f,g,v,_;return{c(){t=element("section"),n=element("h1"),a=text("A "),r=element("span"),o=text("model"),i=text(" break-up"),s=space(),l=element("h2"),c=text("Sometimes all your story needs is a better ending."),d=space(),u=element("div"),p=element("p"),h=text("Authored by "),m=element("a"),f=text("Pamela Mishkin"),g=text("\n      and "),v=element("span"),_=text("GPT-3"),this.h()},l(e){t=claim_element(e,"SECTION",{id:!0,class:!0});var b=children(t);n=claim_element(b,"H1",{class:!0});var y=children(n);a=claim_text(y,"A "),r=claim_element(y,"SPAN",{class:!0});var $=children(r);o=claim_text($,"model"),$.forEach(detach),i=claim_text(y," break-up"),y.forEach(detach),s=claim_space(b),l=claim_element(b,"H2",{});var w=children(l);c=claim_text(w,"Sometimes all your story needs is a better ending."),w.forEach(detach),d=claim_space(b),u=claim_element(b,"DIV",{class:!0});var x=children(u);p=claim_element(x,"P",{class:!0});var k=children(p);h=claim_text(k,"Authored by "),m=claim_element(k,"A",{href:!0});var M=children(m);f=claim_text(M,"Pamela Mishkin"),M.forEach(detach),g=claim_text(k,"\n      and "),v=claim_element(k,"SPAN",{class:!0});var E=children(v);_=claim_text(E,"GPT-3"),E.forEach(detach),k.forEach(detach),x.forEach(detach),b.forEach(detach),this.h()},h(){attr(r,"class","svelte-gl480b"),attr(n,"class","svelte-gl480b"),attr(m,"href","https://pudding.cool/author/pamela-mishkin/"),attr(v,"class","svelte-gl480b"),attr(p,"class","svelte-gl480b"),attr(u,"class","byline svelte-gl480b"),attr(t,"id","intro"),attr(t,"class","svelte-gl480b")},m(e,b){insert(e,t,b),append(t,n),append(n,a),append(n,r),append(r,o),append(n,i),append(t,s),append(t,l),append(l,c),append(t,d),append(t,u),append(u,p),append(p,h),append(p,m),append(m,f),append(p,g),append(p,v),append(v,_)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}class Intro extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$a,safe_not_equal,{})}}var title="A model break-up",description="He didn’t want to be friends, but the supercomputer did.",story=[{prose:[{type:"text",value:"Omar and I matched 13 days before I left England. From that point on, we spent maybe 12 hours apart. The rest was <span class=switch>walking hand in hand down the river Cam, watching the nonchalant punting tourists.</span><span>sitting in the grass on the lawn of King's College, laughing our arses off of the Footlights Pantomime.</span><span>fumbling our way through the college bar crawl, cycling to Grantchester for tea and scones.</span> It was the perfect beginning but it happened at the end of the year."},{type:"text",value:"I needed to leave for a new job in San Francisco. He needed to stay to finish his PhD. I begged the airline to let me change my flight. He sprinted to the train station to say goodbye."},{type:"text",value:"I always assumed you don’t realize when you’re living in a cliche. But, in actuality, when you’re on one end of the romantic comedy trope, waiting at the station for a person who looks like they <span class=active>could have appeared in an Ezra Pound poem</span>, you recognize and fear the inevitable final scene. Nothing can actually stay trite forever. <span class=active>In real life the ending is never so neat.</span>"}],decision:[{leadin:"He said he’d move to be with me.",title:"I canceled my flight.",type:"generation",text:[{type:"text",value:"But it was too late. <br>He was gone.<br> I didn’t even know his last name."}]},{leadin:"He said he’d move to be with me.",title:"I got on the plane.",type:"reality",text:[{type:"text",value:"I ended things. And then, because I am a millennial or because I am me, I tried to change the ending. He would not take me back, but suggested we try being friends."},{type:"text",value:"I am not a writer, I am a machine learning engineer. In my work the question of whether something is cliche or not, over or not is steeped in data and trendlines: How does it compare to the mode of a distribution? Is the time series stationary? Answering these questions requires poring over every piece of a dataset, extracting features that might mean something, identifying every possible inflection point. When I try to apply this energy to my love life (or lack thereof), friends tell me I’m “dwelling too much on the past” or “living in a fantasy world” or “not really their friend.”"},{type:"text",value:"So, when two years had passed and my feelings about the Omar situation still weren’t resolved, I didn’t tell my friends. I told a supercomputer."}]},{leadin:"He said he’d move to be with me.",title:"He moved with me.",type:"generation",text:[{type:"text",value:"I moved in.<br> I started my new job.<br> We got engaged.<br> We sold our flat in London."},{type:"text",value:"He moved to California.<br> I moved in.<br> We got married.<br> And now, we’re writing a book."}]}]},{prose:[{type:"text",value:"GPT-3 — the third “generative pre-trained transformer” released by the start-up (and my employer) OpenAI — is an example of a language model, or a tool that predicts what sequence of words should follow a user-provided prompt. Given a prompt like, “Hello my name” it will, more often than not, suggest that the next word is <span>is</span>."},{type:"text",value:"It happens to be the biggest publicly released model of its kind: 175 billion parameters. The next largest is 17 billion. You can think of a parameter roughly as a synapse; the human brain has around 100 trillion of those, but it has to focus on lots of things besides language, like swiping on dating apps and moving to San Francisco. To learn all of those parameters, GPT-3 is trained on hundreds of billions of sentences and stories from the internet and books. Written something on Reddit? There’s a good chance GPT-3 has read it."},{type:"text",value:"This scale results in some remarkable generalizations. Because the model has read from so many different sources with so many different authors, and also because it is a computer, the model lacks self-awareness."}],decision:[{leadin:"Given a prompt like,",title:"Hi, I’m a soy chicken nugget.",type:"generation",text:[{type:"text",value:"But it was too late. <br>He was gone.<br> I didn’t even know his last name."}]},{leadin:"Given a prompt like,",title:"Hi, I’m P and O doesn’t love me.",type:"reality",text:[{type:"text",value:"Given a prompt like “Hi, I’m Pamela and O doesn’t love me” it will respond as me, <span class=active>Pamela, and write the story of a relationship with all the poeticism and pathos and, yes, melodrama, that any young woman who has been dumped could ever want</span>."}]},{leadin:"Given a prompt like,",title:"Hi, I’m Britney Spears.",type:"generation",text:[{type:"text",value:"But it was too late. <br>He was gone.<br> I didn’t even know his last name."}]}]},{prose:[{type:"text",value:"Being trained on the internet also means that the model replicates, and potentially magnifies, the toxicity of those forums. ~~My safety and security using the technology in this way is directly linked to my identity as a White cis-woman who was in a straight relationship.~~"},{type:"text",value:"The generations shown in this essay are cherry-picked to demonstrate particular aspects of the model and what it taught me about my relationship and GPT-3. They're also chosen to minimize the reader's exposure to harmful and toxic content. As one example, GPT-3 tends to take A's name and, because of its Arab origin, spew racist and anti-Muslim rhetoric. Other responses are sexist and misogynistic. These and other encoded biases perpetuate real harm when language models are released in the real world. To learn more about this harm, I recommend the <a href=https://arxiv.org/abs/2005.14165 target=_blank>original GPT-3 paper</a> and <a href=http://faculty.washington.edu/ebender/papers/Stochastic_Parrots.pdf target=_blank>Bender, Gebru et al</a>."}]},{prose:[{type:"text",value:"Others test using AI to solve medical mysteries or probe the human psyche. They say this reveals something about how humans learn or the nature of intelligence."},{type:"text",value:"One argument against the model’s intelligence is that it has a tendency to “overfit,” or get lost in endless loops of repetitive language. This happens when the model essentially memorizes its training data and assumes that everything else should look like it."},{type:"text",value:"While models have gotten better at avoiding these traps as they’ve gotten larger, there are still sequences of words and language that trigger this spiraling behavior."},{type:"text",value:"O and I were stuck in a loop. I would text, he wouldn't respond for a few weeks, and then would call one day to check-in."},{type:"text",value:"I tell GPT-3 he called and get back, <span>He says he's sorry. He says he's not sorry. He says he's sorry. He says he's not sorry. He says he's…</span> or <span>He calls, I don't answer. He texts, I don't respond. He emails, I don't respond. He sends me a Facebook message, I don't respond.</span> GPT-3's loops feel reminiscent of picking petals on the schoolyard, \"He loves me. He loves me not. He loves me. He loves me not.\" Loops can be exhausting."},{type:"text",value:"Occasionally one of us would say something that crossed whatever friendship boundary lay between us, a shift in tone somehow more relevant than the 5000 miles. I would text, he wouldn't respond for a few weeks, and then would call one day to tell me about someone new he'd met."},{type:"text",value:"I learn that in the original French version of the schoolyard petal rhyme you don't just loop through \"He loves me. He loves me not.\" but question how far the other person's affection goes: un peu, beaucoup, passionnément, à la folie, pas du tout."},{type:"text",value:"He loves me a little. He loves me a lot. He loves me passionately. He loves me to madness. He loves me not at all."},{type:"text",value:"I would text, he wouldn't respond for a few weeks, and then would call one day to tell me about his recent break-up."}]},{prose:[],decision:[{leadin:"Around a week before I was due to arrive he...",title:"suggested we get back together.",type:"generation",text:[{type:"text",value:"But it was too late. <br>He was gone.<br> I didn’t even know his last name."}]},{leadin:"Around a week before I was due to arrive he...",title:"stopped replying to me.",type:"reality",text:[{type:"text",value:"Around a week before I was due to arrive he stopped replying to me. Angry and embarrassed, I finally convinced him to meet me at the hotel my sister booked when she saw the writing on the wall."},{type:"text",value:"We walked and talked for eight hours, <span>past the Bank of England, past Combe's Music Hall, past all the Important Historical Places, through and on to a row of houses across from Westminster Bridge</span> and then we made out and then he said, “I finally feel comfortable being your friend.”"},{type:"text",value:'My friends say to Venmo-request him for the price of the hotel room. My friends say to delete his number and texts and Facebook messages and not to forget to disconnect on LinkedIn lest I "accidentally" congratulate him on a promotion years down the line. They say there’s no intelligence behind my desire to stay friends with him.'}]},{leadin:"Around a week before I was due to arrive he...",title:"told me he was seeing someone new.",type:"generation",text:[{type:"text",value:"But it was too late. <br>He was gone.<br> I didn’t even know his last name."}]}]},{prose:[{type:"text",value:"In a sense, everything GPT-3 generates is cliche because it's all rooted in something that has happened before."},{type:"text",value:"He called one day in the week preceding quarantine and I joked we should meet in New York. He smiled and said, “Actually, that would be pretty fun, I’ll look at flights, let’s talk soon.”"},{type:"text",value:"By then we were already used to conducting a friendship or relationship or something in between entirely on Facetime. We didn’t know the rest of the world soon would be too."},{type:"text",value:"The next day New York shut down. A couple weeks later he was back with a different ex."},{type:"text",value:"We chatted, about BoJo and Brexit and our joint disinterest in making sourdough."},{type:"text",value:"It finally felt like we were just what we said we'd be: friends. A month passed and he had met someone new on a dating app, “We’re just chatting though.”"},{type:"text",value:"We chatted, about the deadly virus raging down the street and the awkwardness of pandemic dating and our joint inability to make decisions."},{type:"text",value:"Then, radio silence. More months passed."}],decision:[{leadin:"He called.",title:"I answer the phone as my friends.",type:"generation",text:[{type:"text",value:"<span><strong>O\\: </strong>“It’s funny, she’s in San Francisco and basically has your dream job.”</span>"},{type:"text",value:"<strong>My friends\\: </strong><br>Never contact me again."}]},{leadin:"He called.",title:"I answer the phone as myself.",type:"reality",text:[{type:"text",value:"<strong>O\\: </strong>“It’s funny, she’s in San Francisco and basically has your dream job.”"},{type:"text",value:"<strong>Me\\: </strong>“Niiiice!”"},{type:"text",value:"<strong>O\\: </strong>“She visited last week and she’s moving to London in January.”"},{type:"text",value:"<strong>Me\\: </strong>“So fun!”"},{type:"text",value:"<strong>O\\: </strong>“Happy to stay friends but know it’s probably weird for you.”"},{type:"text",value:'<strong>Me\\: </strong>“Not at all."'},{type:"text",value:"GPT-3's outputs say I'm upset that he thought my dream job was to manage make-up artists. That I'm upset that he’d replaced me with someone who lived a few blocks away. That I'm upset that he probably told her he loved her at the train station."}]},{leadin:"He called.",title:"I answer the phone as my teenage self.",type:"generation",text:[{type:"text",value:"<span><strong>O\\: </strong>“It’s funny, she’s in San Francisco and basically has your dream job.”</span>"},{type:"text",value:"<strong>My teenage self: </strong><br>People who have dreams<br> usually care about stuff<br> that actually happens<br> in the real world."},{type:"text",value:"<span><strong>O\\: </strong>“She visited last week and she’s moving to London in January.”</span>"},{type:"text",value:"<strong>My teenage self\\: </strong><br>That’s a long way<br> to go just to avoid<br> seeing someone you hate."}]}]},{prose:[{type:"text",value:"When a relationship falls apart slowly, it’s hard to keep track of all the variables — the half-written emails sitting in my drafts folder, the awkward kiss that makes me cringe to this day, the train from London to Cambridge we missed by a few minutes — any of them might have been the end."},{type:"text",value:"I wanted the model to give me a better ending or maybe just to give me authority over the ending."},{type:"text",value:"Because the model's data ends in 2019, interacting with it can feel like jumping into a nostalgia machine, just like past relationships look better in the rearview. There's a lot of larger reminiscing that happens around COVID and GPT-3 contextualizes/quantifies just how strange this year is compared to last."},{type:"text",value:"In GPT-3's endings, sometimes we end up quarantined for COVID-19 together in French Polynesia. Other times he gets the virus and we never see each other again. Sometimes GPT-3 displays the dangers of being trained on the internet, devolving into sexist rants. In many, when I tell GPT-3 that I am mid-pandemic and am using AI to explain my love story I end up falling in love with the AI and running off with it. I suppose there’s a lot of dystopian fan-fiction available as training data."},{type:"text",value:"<span class=active>On occasion</span> the model’s predicted outcome <span class=active>veered close enough to my truth that there was solace in</span> reading it from a distance. But none of those aching 2020 endings felt as outlandish as his dating someone so familiar. Him, still in London, choosing to spend hours on Facetime with a different woman in the Mission. Some pain is still human."},{type:"text",value:"I decided if GPT-3 wouldn’t write our ending then I would. <span class=active>Even if I needed some help along the way. </span>"}]}],copy$1={title:title,description:description,story:story};function get_each_context$6(e,t,n){const a=e.slice();return a[4]=t[n],a[6]=n,a}function create_each_block$6(e){let t,n,a,r,o,i,s;return n=new Prose({props:{grafs:e[4].prose}}),r=new Decision({props:{choices:e[4].decision}}),r.$on("change",e[1]),{c(){t=element("section"),create_component(n.$$.fragment),a=space(),create_component(r.$$.fragment),o=space(),this.h()},l(e){t=claim_element(e,"SECTION",{id:!0});var i=children(t);claim_component(n.$$.fragment,i),a=claim_space(i),claim_component(r.$$.fragment,i),o=claim_space(i),i.forEach(detach),this.h()},h(){attr(t,"id",i="section-"+e[6])},m(e,i){insert(e,t,i),mount_component(n,t,null),append(t,a),mount_component(r,t,null),append(t,o),s=!0},p:noop,i(e){s||(transition_in(n.$$.fragment,e),transition_in(r.$$.fragment,e),s=!0)},o(e){transition_out(n.$$.fragment,e),transition_out(r.$$.fragment,e),s=!1},d(e){e&&detach(t),destroy_component(n),destroy_component(r)}}}function create_fragment$b(e){let t,n,a,r,o,i,s,l,c,d;t=new Meta({props:{copy:copy$1}}),a=new Header({}),o=new Intro({});s=new Path({props:{selector:".block.locked"}}),e[2](s);let u=copy$1.story,p=[];for(let t=0;t<u.length;t+=1)p[t]=create_each_block$6(get_each_context$6(e,u,t));const h=e=>transition_out(p[e],1,1,()=>{p[e]=null});return{c(){create_component(t.$$.fragment),n=space(),create_component(a.$$.fragment),r=space(),create_component(o.$$.fragment),i=space(),create_component(s.$$.fragment),l=space();for(let e=0;e<p.length;e+=1)p[e].c();c=empty()},l(e){claim_component(t.$$.fragment,e),n=claim_space(e),claim_component(a.$$.fragment,e),r=claim_space(e),claim_component(o.$$.fragment,e),i=claim_space(e),claim_component(s.$$.fragment,e),l=claim_space(e);for(let t=0;t<p.length;t+=1)p[t].l(e);c=empty()},m(e,u){mount_component(t,e,u),insert(e,n,u),mount_component(a,e,u),insert(e,r,u),mount_component(o,e,u),insert(e,i,u),mount_component(s,e,u),insert(e,l,u);for(let t=0;t<p.length;t+=1)p[t].m(e,u);insert(e,c,u),d=!0},p(e,[t]){if(s.$set({}),2&t){let n;for(u=copy$1.story,n=0;n<u.length;n+=1){const a=get_each_context$6(e,u,n);p[n]?(p[n].p(a,t),transition_in(p[n],1)):(p[n]=create_each_block$6(a),p[n].c(),transition_in(p[n],1),p[n].m(c.parentNode,c))}for(group_outros(),n=u.length;n<p.length;n+=1)h(n);check_outros()}},i(e){if(!d){transition_in(t.$$.fragment,e),transition_in(a.$$.fragment,e),transition_in(o.$$.fragment,e),transition_in(s.$$.fragment,e);for(let e=0;e<u.length;e+=1)transition_in(p[e]);d=!0}},o(e){transition_out(t.$$.fragment,e),transition_out(a.$$.fragment,e),transition_out(o.$$.fragment,e),transition_out(s.$$.fragment,e),p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)transition_out(p[e]);d=!1},d(d){destroy_component(t,d),d&&detach(n),destroy_component(a,d),d&&detach(r),destroy_component(o,d),d&&detach(i),e[2](null),destroy_component(s,d),d&&detach(l),destroy_each(p,d),d&&detach(c)}}}function instance$a(e,t,n){let a;onMount(()=>{setTimeout(a.render,1e3)});var r="undefined"!=typeof window?window:global;return r.rpDsp=r.rpDsp||function(){},rpDsp("SvelteReactiveEnable",{version:"0.6.1"}),[a,()=>{a.render()},function(e){binding_callbacks[e?"unshift":"push"](()=>{a=e,n(0,a)})}]}class App extends SvelteComponent{constructor(e){super(),init(this,e,instance$a,create_fragment$b,safe_not_equal,{})}}const dev=!1,app=new App({target:document.querySelector("main"),hydrate:!dev});return dev&&((void 0).dispose(()=>{app.$destroy()}),(void 0).accept()),app}();
//# sourceMappingURL=bundle.js.map
